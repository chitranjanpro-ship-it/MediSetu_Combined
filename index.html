<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MediSetu - Home</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="css/style.css">
</head>
<body>

<nav class="navbar navbar-expand-lg navbar-dark bg-success">
  <div class="container">
    <a class="navbar-brand" href="index.html">MediSetu</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item"><a class="nav-link active" href="index.html">Home</a></li>
        <li class="nav-item"><a class="nav-link" href="about.html">About Us</a></li>
        <li class="nav-item"><a class="nav-link" href="register.html">Register</a></li>
        <li class="nav-item"><a class="nav-link" href="login.html">Login</a></li>
        <li class="nav-item"><a class="nav-link" href="contact.html">Contact</a></li>
        <li class="nav-item"><a class="nav-link" href="partner.html">Partner</a></li>
        
        <!-- Dashboard Links -->
        <li class="nav-item"><a class="nav-link" href="customer.html">Customer</a></li>
        <li class="nav-item"><a class="nav-link" href="doctor.html">Doctor</a></li>
        <li class="nav-item"><a class="nav-link" href="vendor.html">Vendor</a></li>
        <li class="nav-item"><a class="nav-link" href="delivery.html">Delivery</a></li>
        <li class="nav-item"><a class="nav-link" href="logistics.html">Logistics</a></li>
      </ul>
    </div>
  </div>
</nav>

<section class="container py-5">
  <div class="text-center mb-5">
    <h1>Welcome to MediSetu</h1>
    <p class="lead">Affordable Generics ‚Ä¢ Upload Prescription ‚Ä¢ Fast Delivery</p>
    <a href="register.html" class="btn btn-success btn-lg me-2">Get Started</a>
    <a href="login.html" class="btn btn-outline-success btn-lg">Login</a>
  </div>

  <!-- Quick Search -->
  <div class="card shadow-sm mb-5">
    <div class="card-body">
      <h5 class="card-title mb-3">Quick Medicine Search</h5>
      <div class="input-group input-group-lg">
        <input type="text" class="form-control" id="quickSearch" placeholder="Search for medicines...">
        <button class="btn btn-success" onclick="quickSearch()">Search</button>
      </div>
      <div id="quickSearchResults" class="mt-3"></div>
    </div>
  </div>

  <div class="row">
    <div class="col-md-4 mb-3">
      <div class="card shadow-sm h-100">
        <div class="card-body text-center">
          <h5 class="card-title">Search Medicine</h5>
          <p class="card-text">Find medicines and compare prices instantly.</p>
          <button class="btn btn-primary" onclick="showSearchModal()">Search Now</button>
        </div>
      </div>
    </div>
    <div class="col-md-4 mb-3">
      <div class="card shadow-sm h-100">
        <div class="card-body text-center">
          <h5 class="card-title">Upload Prescription</h5>
          <p class="card-text">Upload prescription files for instant processing.</p>
          <button class="btn btn-primary" onclick="showPrescriptionUpload()">Upload Now</button>
        </div>
      </div>
    </div>
    <div class="col-md-4 mb-3">
      <div class="card shadow-sm h-100">
        <div class="card-body text-center">
          <h5 class="card-title">Order Tracking</h5>
          <p class="card-text">Track your orders live with estimated delivery times.</p>
          <button class="btn btn-primary" onclick="showTracking()">Track Order</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Features Section -->
  <div class="row mt-5">
    <div class="col-md-12">
      <h3 class="text-center mb-4">Why Choose MediSetu?</h3>
      <div class="row">
        <div class="col-md-3 mb-3">
          <div class="card text-center">
            <div class="card-body">
              <h6>üí∞ Affordable Prices</h6>
              <p class="small">Save up to 70% with generic medicines</p>
            </div>
          </div>
        </div>
        <div class="col-md-3 mb-3">
          <div class="card text-center">
            <div class="card-body">
              <h6>‚ö° Fast Delivery</h6>
              <p class="small">Same-day delivery available</p>
            </div>
          </div>
        </div>
        <div class="col-md-3 mb-3">
          <div class="card text-center">
            <div class="card-body">
              <h6>üë®‚Äç‚öïÔ∏è Doctor Consult</h6>
              <p class="small">Consult with verified doctors online</p>
            </div>
          </div>
        </div>
        <div class="col-md-3 mb-3">
          <div class="card text-center">
            <div class="card-body">
              <h6>üîí Secure & Safe</h6>
              <p class="small">Your data is protected and secure</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Search Modal -->
<div class="modal fade" id="searchModal" tabindex="-1">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Search Medicines</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body">
        <div class="input-group mb-3">
          <input type="text" class="form-control" id="medicineSearchInput" placeholder="Enter medicine name...">
          <button class="btn btn-success" onclick="searchMedicines()">Search</button>
        </div>
        <div id="medicineResults"></div>
      </div>
    </div>
  </div>
</div>

<!-- Prescription Upload Modal -->
<div class="modal fade" id="prescriptionModal" tabindex="-1">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Upload Prescription</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body">
        <p>Please <a href="login.html">login</a> or <a href="register.html">register</a> to upload prescriptions.</p>
        <p class="text-muted">After logging in, you can upload prescriptions from your dashboard.</p>
      </div>
    </div>
  </div>
</div>

<!-- Tracking Modal -->
<div class="modal fade" id="trackingModal" tabindex="-1">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Track Your Order</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body">
        <div class="mb-3">
          <label class="form-label">Enter Order ID</label>
          <input type="text" class="form-control" id="orderIdInput" placeholder="Order ID">
        </div>
        <button class="btn btn-primary w-100" onclick="trackOrder()">Track Order</button>
        <div id="trackingResult" class="mt-3"></div>
      </div>
    </div>
  </div>
</div>

<footer class="bg-dark text-white text-center py-3">
  &copy; 2025 MediSetu. All rights reserved.
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="js/script.js"></script>
<script>
// Quick Search
function quickSearch() {
  const query = document.getElementById('quickSearch').value.trim();
  const resultsDiv = document.getElementById('quickSearchResults');
  
  if (!query) {
    resultsDiv.innerHTML = '<div class="alert alert-warning">Please enter a medicine name.</div>';
    return;
  }
  
  searchAndDisplay(query, resultsDiv);
}

// Search Modal
function showSearchModal() {
  const modal = new bootstrap.Modal(document.getElementById('searchModal'));
  modal.show();
}

function searchMedicines() {
  const query = document.getElementById('medicineSearchInput').value.trim();
  const resultsDiv = document.getElementById('medicineResults');
  
  if (!query) {
    resultsDiv.innerHTML = '<div class="alert alert-warning">Please enter a medicine name.</div>';
    return;
  }
  
  searchAndDisplay(query, resultsDiv);
}

function searchAndDisplay(query, resultsDiv) {
  const medicines = [
    { name: 'Paracetamol 500mg', brand: '‚Çπ25', generic: '‚Çπ15', stock: 'In Stock', savings: '40%' },
    { name: 'Amoxicillin 250mg', brand: '‚Çπ45', generic: '‚Çπ28', stock: 'In Stock', savings: '38%' },
    { name: 'Cetirizine 10mg', brand: '‚Çπ35', generic: '‚Çπ22', stock: 'In Stock', savings: '37%' },
    { name: 'Azithromycin 500mg', brand: '‚Çπ120', generic: '‚Çπ75', stock: 'In Stock', savings: '38%' },
    { name: 'Omeprazole 20mg', brand: '‚Çπ55', generic: '‚Çπ32', stock: 'In Stock', savings: '42%' }
  ];
  
  const filtered = medicines.filter(m => 
    m.name.toLowerCase().includes(query.toLowerCase())
  );
  
  if (filtered.length === 0) {
    resultsDiv.innerHTML = '<div class="alert alert-info">No medicines found. Try a different search term.</div>';
    return;
  }
  
  let html = '<div class="row g-3">';
  filtered.forEach(med => {
    html += `
      <div class="col-md-6">
        <div class="card">
          <div class="card-body">
            <h6>${med.name}</h6>
            <p class="mb-1"><strong>Branded:</strong> ${med.brand} | <strong class="text-success">Generic:</strong> ${med.generic}</p>
            <p class="mb-2"><small class="text-success">Save ${med.savings} with generic!</small></p>
            <span class="badge bg-success">${med.stock}</span>
            <button class="btn btn-sm btn-primary float-end" onclick="addToCart('${med.name}', '${med.generic}')">Add to Cart</button>
          </div>
        </div>
      </div>
    `;
  });
  html += '</div>';
  resultsDiv.innerHTML = html;
}

function addToCart(name, price) {
  alert(`${name} added to cart! Price: ${price}\n\nPlease login to complete your order.`);
}

function showPrescriptionUpload() {
  const currentUser = JSON.parse(localStorage.getItem('currentUser'));
  if (currentUser) {
    window.location.href = 'customer.html';
  } else {
    const modal = new bootstrap.Modal(document.getElementById('prescriptionModal'));
    modal.show();
  }
}

function showTracking() {
  const modal = new bootstrap.Modal(document.getElementById('trackingModal'));
  modal.show();
}

function trackOrder() {
  const orderId = document.getElementById('orderIdInput').value.trim();
  const resultDiv = document.getElementById('trackingResult');
  
  if (!orderId) {
    resultDiv.innerHTML = '<div class="alert alert-warning">Please enter an order ID.</div>';
    return;
  }
  
  const orders = JSON.parse(localStorage.getItem('orders')) || [];
  const order = orders.find(o => o.id == orderId);
  
  if (order) {
    resultDiv.innerHTML = `
      <div class="alert alert-success">
        <h6>Order #${order.id}</h6>
        <p><strong>Status:</strong> ${order.status}</p>
        <p><strong>Items:</strong> ${order.items}</p>
        <p><strong>Total:</strong> ${order.total}</p>
        <p><strong>Date:</strong> ${new Date(order.date).toLocaleDateString()}</p>
      </div>
    `;
  } else {
    resultDiv.innerHTML = '<div class="alert alert-danger">Order not found. Please check your order ID.</div>';
  }
}

// Enter key handlers
document.getElementById('quickSearch')?.addEventListener('keypress', function(e) {
  if (e.key === 'Enter') {
    quickSearch();
  }
});

document.getElementById('medicineSearchInput')?.addEventListener('keypress', function(e) {
  if (e.key === 'Enter') {
    searchMedicines();
  }
});

document.getElementById('orderIdInput')?.addEventListener('keypress', function(e) {
  if (e.key === 'Enter') {
    trackOrder();
  }
});
</script>
</body>
</html>

